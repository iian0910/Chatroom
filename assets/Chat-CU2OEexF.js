import{_ as ce,s as O,l as j,q as D,y as ae,z as rt,A as ot,p as F,m as G,g as U,t as J,B as it,C as z,r as L,e as C,D as q,E as ct,S as dt,F as Le,G as vt,H as se,J as ne,K as Ne,j as a,L as Z,k as de,M as ft,N as Me,I as W,b as K,d as ve,f as fe,O as mt,P as gt,Q as yt,R as xe,T as ht,U as St,V as bt,W as kt,X as _t,Y as pe,i as Ct,u as Vt,Z as It,$ as xt,w as N,v as le,o as ze,a0 as ue,c as me,h as $e,n as pt,a1 as zt,a2 as je,a3 as Pt,a4 as wt}from"./index-CmT_3dTZ.js";import{x as At,e as ge,y as Tt,z as Rt,A as Bt,l as ye,r as Pe,M as te,m as Fe,B as Ge,f as he,u as Ue,g as He,C as De,V as B,p as Q,o as qe,D as We,E as Ke,F as we,G as Et,b as Ot,H as Lt,I as Nt,R as Mt,J as $t,i as jt,K as Ft,L as Gt,N as Ut,s as Ht,q as Dt,O as qt,P as Wt,t as Kt,Q as Xt}from"./VTextField-DpmOWKKb.js";import"./_commonjsHelpers-Cpj98o6Y.js";const Yt=e=>(rt("data-v-46a3f786"),e=e(),ot(),e),Jt={class:"info-block d-flex justify-center align-center pa-2"},Qt=Yt(()=>D("span",{class:"mr-2"},"使用者暱稱：",-1)),Zt={__name:"Info",props:{username:{type:String,required:!0}},setup(e){return(u,t)=>(O(),j("div",Jt,[Qt,D("span",null,ae(e.username),1)]))}},ea=ce(Zt,[["__scopeId","data-v-46a3f786"]]),ta=F({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...At(),...G(),...ge(),...Tt()},"VImg"),aa=U()({name:"VImg",directives:{intersect:Rt},props:ta(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,u){let{emit:t,slots:l}=u;const{backgroundColorClasses:n,backgroundColorStyles:c}=Bt(J(e,"color")),{roundedClasses:r}=ye(e),i=it("VImg"),s=z(""),o=L(),d=z(e.eager?"loading":"idle"),y=z(),V=z(),k=C(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),S=C(()=>k.value.aspect||y.value/V.value||0);q(()=>e.src,()=>{P(d.value!=="idle")}),q(S,(m,b)=>{!m&&b&&o.value&&w(o.value)}),ct(()=>P());function P(m){if(!(e.eager&&m)&&!(dt&&!m&&!e.eager)){if(d.value="loading",k.value.lazySrc){const b=new Image;b.src=k.value.lazySrc,w(b,null)}k.value.src&&Le(()=>{var b;t("loadstart",((b=o.value)==null?void 0:b.currentSrc)||k.value.src),setTimeout(()=>{var h;if(!i.isUnmounted)if((h=o.value)!=null&&h.complete){if(o.value.naturalWidth||x(),d.value==="error")return;S.value||w(o.value,null),d.value==="loading"&&f()}else S.value||w(o.value),A()})})}}function f(){var m;i.isUnmounted||(A(),w(o.value),d.value="loaded",t("load",((m=o.value)==null?void 0:m.currentSrc)||k.value.src))}function x(){var m;i.isUnmounted||(d.value="error",t("error",((m=o.value)==null?void 0:m.currentSrc)||k.value.src))}function A(){const m=o.value;m&&(s.value=m.currentSrc||m.src)}let I=-1;vt(()=>{clearTimeout(I)});function w(m){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const h=()=>{if(clearTimeout(I),i.isUnmounted)return;const{naturalHeight:R,naturalWidth:ee}=m;R||ee?(y.value=ee,V.value=R):!m.complete&&d.value==="loading"&&b!=null?I=window.setTimeout(h,b):(m.currentSrc.endsWith(".svg")||m.currentSrc.startsWith("data:image/svg+xml"))&&(y.value=1,V.value=1)};h()}const M=C(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),X=()=>{var h;if(!k.value.src||d.value==="idle")return null;const m=a("img",{class:["v-img__img",M.value],style:{objectPosition:e.position},src:k.value.src,srcset:k.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:o,onLoad:f,onError:x},null),b=(h=l.sources)==null?void 0:h.call(l);return a(te,{transition:e.transition,appear:!0},{default:()=>[ne(b?a("picture",{class:"v-img__picture"},[b,m]):m,[[Me,d.value==="loaded"]])]})},_=()=>a(te,{transition:e.transition},{default:()=>[k.value.lazySrc&&d.value!=="loaded"&&a("img",{class:["v-img__img","v-img__img--preload",M.value],style:{objectPosition:e.position},src:k.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),T=()=>l.placeholder?a(te,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!l.error)&&a("div",{class:"v-img__placeholder"},[l.placeholder()])]}):null,E=()=>l.error?a(te,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&a("div",{class:"v-img__error"},[l.error()])]}):null,Y=()=>e.gradient?a("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,$=z(!1);{const m=q(S,b=>{b&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{$.value=!0})}),m())})}return se(()=>{const m=Pe.filterProps(e);return ne(a(Pe,de({class:["v-img",{"v-img--booting":!$.value},n.value,r.value,e.class],style:[{width:ft(e.width==="auto"?y.value:e.width)},c.value,e.style]},m,{aspectRatio:S.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>a(Z,null,[a(X,null,null),a(_,null,null),a(Y,null,null),a(T,null,null),a(E,null,null)]),default:l.default}),[[Ne("intersect"),{handler:P,options:e.options},null,{once:!0}]])}),{currentSrc:s,image:o,state:d,naturalWidth:y,naturalHeight:V}}}),la=F({start:Boolean,end:Boolean,icon:W,image:String,text:String,...G(),...Fe(),...ge(),...Ge(),...K(),...ve(),...he({variant:"flat"})},"VAvatar"),ie=U()({name:"VAvatar",props:la(),setup(e,u){let{slots:t}=u;const{themeClasses:l}=fe(e),{colorClasses:n,colorStyles:c,variantClasses:r}=Ue(e),{densityClasses:i}=He(e),{roundedClasses:s}=ye(e),{sizeClasses:o,sizeStyles:d}=De(e);return se(()=>a(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},l.value,n.value,i.value,s.value,o.value,r.value,e.class],style:[c.value,d.value,e.style]},{default:()=>[t.default?a(Q,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[t.default()]}):e.image?a(aa,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?a(B,{key:"icon",icon:e.icon},null):e.text,qe(!1,"v-avatar")]})),{}}});function Ae(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function Te(e){let{selectedElement:u,containerSize:t,contentSize:l,isRtl:n,currentScrollOffset:c,isHorizontal:r}=e;const i=r?u.clientWidth:u.clientHeight,s=r?u.offsetLeft:u.offsetTop,o=n&&r?l-s-i:s,d=t+c,y=i+o,V=i*.4;return o<=c?c=Math.max(o-V,0):d<=y&&(c=Math.min(c-(d-y-V),l-t)),c}function na(e){let{selectedElement:u,containerSize:t,contentSize:l,isRtl:n,isHorizontal:c}=e;const r=c?u.clientWidth:u.clientHeight,i=c?u.offsetLeft:u.offsetTop,s=n&&c?l-i-r/2-t/2:i+r/2-t/2;return Math.min(l-t,Math.max(0,s))}const sa=Symbol.for("vuetify:v-slide-group"),Xe=F({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:sa},nextIcon:{type:W,default:"$next"},prevIcon:{type:W,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...G(),...mt(),...K(),...We({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Re=U()({name:"VSlideGroup",props:Xe(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const{isRtl:l}=gt(),{displayClasses:n,mobile:c}=yt(e),r=Ke(e,e.symbol),i=z(!1),s=z(0),o=z(0),d=z(0),y=C(()=>e.direction==="horizontal"),{resizeRef:V,contentRect:k}=xe(),{resizeRef:S,contentRect:P}=xe(),f=C(()=>r.selected.value.length?r.items.value.findIndex(v=>v.id===r.selected.value[0]):-1),x=C(()=>r.selected.value.length?r.items.value.findIndex(v=>v.id===r.selected.value[r.selected.value.length-1]):-1);if(ht){let v=-1;q(()=>[r.selected.value,k.value,P.value,y.value],()=>{cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(k.value&&P.value){const g=y.value?"width":"height";o.value=k.value[g],d.value=P.value[g],i.value=o.value+1<d.value}if(f.value>=0&&S.value){const g=S.value.children[x.value];f.value===0||!i.value?s.value=0:e.centerActive?s.value=na({selectedElement:g,containerSize:o.value,contentSize:d.value,isRtl:l.value,isHorizontal:y.value}):i.value&&(s.value=Te({selectedElement:g,containerSize:o.value,contentSize:d.value,isRtl:l.value,currentScrollOffset:s.value,isHorizontal:y.value}))}})})}const A=z(!1);let I=0,w=0;function M(v){const g=y.value?"clientX":"clientY";w=(l.value&&y.value?-1:1)*s.value,I=v.touches[0][g],A.value=!0}function X(v){if(!i.value)return;const g=y.value?"clientX":"clientY",p=l.value&&y.value?-1:1;s.value=p*(w+I-v.touches[0][g])}function _(v){const g=d.value-o.value;s.value<0||!i.value?s.value=0:s.value>=g&&(s.value=g),A.value=!1}function T(){V.value&&(V.value[y.value?"scrollLeft":"scrollTop"]=0)}const E=z(!1);function Y(v){if(E.value=!0,!(!i.value||!S.value)){for(const g of v.composedPath())for(const p of S.value.children)if(p===g){s.value=Te({selectedElement:p,containerSize:o.value,contentSize:d.value,isRtl:l.value,currentScrollOffset:s.value,isHorizontal:y.value});return}}}function $(v){E.value=!1}function m(v){var g;!E.value&&!(v.relatedTarget&&((g=S.value)!=null&&g.contains(v.relatedTarget)))&&h()}function b(v){S.value&&(y.value?v.key==="ArrowRight"?h(l.value?"prev":"next"):v.key==="ArrowLeft"&&h(l.value?"next":"prev"):v.key==="ArrowDown"?h("next"):v.key==="ArrowUp"&&h("prev"),v.key==="Home"?h("first"):v.key==="End"&&h("last"))}function h(v){var g,p,Ce,Ve,Ie;if(S.value)if(!v)(g=St(S.value)[0])==null||g.focus();else if(v==="next"){const H=(p=S.value.querySelector(":focus"))==null?void 0:p.nextElementSibling;H?H.focus():h("first")}else if(v==="prev"){const H=(Ce=S.value.querySelector(":focus"))==null?void 0:Ce.previousElementSibling;H?H.focus():h("last")}else v==="first"?(Ve=S.value.firstElementChild)==null||Ve.focus():v==="last"&&((Ie=S.value.lastElementChild)==null||Ie.focus())}function R(v){const g=s.value+(v==="prev"?-1:1)*o.value;s.value=bt(g,0,d.value-o.value)}const ee=C(()=>{let v=s.value>d.value-o.value?-(d.value-o.value)+Ae(d.value-o.value-s.value):-s.value;s.value<=0&&(v=Ae(-s.value));const g=l.value&&y.value?-1:1;return{transform:`translate${y.value?"X":"Y"}(${g*v}px)`,transition:A.value?"none":"",willChange:A.value?"transform":""}}),re=C(()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected})),oe=C(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!c.value;case!0:return i.value||Math.abs(s.value)>0;case"mobile":return c.value||i.value||Math.abs(s.value)>0;default:return!c.value&&(i.value||Math.abs(s.value)>0)}}),ke=C(()=>Math.abs(s.value)>0),_e=C(()=>d.value>Math.abs(s.value)+o.value);return se(()=>a(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!y.value,"v-slide-group--has-affixes":oe.value,"v-slide-group--is-overflowing":i.value},n.value,e.class],style:e.style,tabindex:E.value||r.selected.value.length?-1:0,onFocus:m},{default:()=>{var v,g,p;return[oe.value&&a("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ke.value}],onClick:()=>ke.value&&R("prev")},[((v=t.prev)==null?void 0:v.call(t,re.value))??a(we,null,{default:()=>[a(B,{icon:l.value?e.nextIcon:e.prevIcon},null)]})]),a("div",{key:"container",ref:V,class:"v-slide-group__container",onScroll:T},[a("div",{ref:S,class:"v-slide-group__content",style:ee.value,onTouchstartPassive:M,onTouchmovePassive:X,onTouchendPassive:_,onFocusin:Y,onFocusout:$,onKeydown:b},[(g=t.default)==null?void 0:g.call(t,re.value)])]),oe.value&&a("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!_e.value}],onClick:()=>_e.value&&R("next")},[((p=t.next)==null?void 0:p.call(t,re.value))??a(we,null,{default:()=>[a(B,{icon:l.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:r.selected,scrollTo:R,scrollOffset:s,focus:h}}}),Ye=Symbol.for("vuetify:v-chip-group"),ua=F({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:kt},...Xe(),...G(),...We({selectedClass:"v-chip--selected"}),...K(),...ve(),...he({variant:"tonal"})},"VChipGroup");U()({name:"VChipGroup",props:ua(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const{themeClasses:l}=fe(e),{isSelected:n,select:c,next:r,prev:i,selected:s}=Ke(e,Ye);return _t({VChip:{color:J(e,"color"),disabled:J(e,"disabled"),filter:J(e,"filter"),variant:J(e,"variant")}}),se(()=>{const o=Re.filterProps(e);return a(Re,de(o,{class:["v-chip-group",{"v-chip-group--column":e.column},l.value,e.class],style:e.style}),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t,{isSelected:n,select:c,next:r,prev:i,selected:s.value})]}})}),{}}});const ra=F({activeClass:String,appendAvatar:String,appendIcon:W,closable:Boolean,closeIcon:{type:W,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:W,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:pe(),onClickOnce:pe(),...Et(),...G(),...Fe(),...Ot(),...Lt(),...ge(),...Nt(),...Ge(),...K({tag:"span"}),...ve(),...he({variant:"tonal"})},"VChip"),Be=U()({name:"VChip",directives:{Ripple:Mt},props:ra(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,u){let{attrs:t,emit:l,slots:n}=u;const{t:c}=Ct(),{borderClasses:r}=$t(e),{colorClasses:i,colorStyles:s,variantClasses:o}=Ue(e),{densityClasses:d}=He(e),{elevationClasses:y}=jt(e),{roundedClasses:V}=ye(e),{sizeClasses:k}=De(e),{themeClasses:S}=fe(e),P=Vt(e,"modelValue"),f=Ft(e,Ye,!1),x=Gt(e,t),A=C(()=>e.link!==!1&&x.isLink.value),I=C(()=>!e.disabled&&e.link!==!1&&(!!f||e.link||x.isClickable.value)),w=C(()=>({"aria-label":c(e.closeLabel),onClick(_){_.stopPropagation(),P.value=!1,l("click:close",_)}}));function M(_){var T;l("click",_),I.value&&((T=x.navigate)==null||T.call(x,_),f==null||f.toggle())}function X(_){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),M(_))}return()=>{const _=x.isLink.value?"a":e.tag,T=!!(e.appendIcon||e.appendAvatar),E=!!(T||n.append),Y=!!(n.close||e.closable),$=!!(n.filter||e.filter)&&f,m=!!(e.prependIcon||e.prependAvatar),b=!!(m||n.prepend),h=!f||f.isSelected.value;return P.value&&ne(a(_,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":I.value,"v-chip--filter":$,"v-chip--pill":e.pill},S.value,r.value,h?i.value:void 0,d.value,y.value,V.value,k.value,o.value,f==null?void 0:f.selectedClass.value,e.class],style:[h?s.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:x.href.value,tabindex:I.value?0:void 0,onClick:M,onKeydown:I.value&&!A.value&&X},{default:()=>{var R;return[qe(I.value,"v-chip"),$&&a(Ut,{key:"filter"},{default:()=>[ne(a("div",{class:"v-chip__filter"},[n.filter?a(Q,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},n.filter):a(B,{key:"filter-icon",icon:e.filterIcon},null)]),[[Me,f.isSelected.value]])]}),b&&a("div",{key:"prepend",class:"v-chip__prepend"},[n.prepend?a(Q,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},n.prepend):a(Z,null,[e.prependIcon&&a(B,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(ie,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a("div",{class:"v-chip__content","data-no-activator":""},[((R=n.default)==null?void 0:R.call(n,{isSelected:f==null?void 0:f.isSelected.value,selectedClass:f==null?void 0:f.selectedClass.value,select:f==null?void 0:f.select,toggle:f==null?void 0:f.toggle,value:f==null?void 0:f.value.value,disabled:e.disabled}))??e.text]),E&&a("div",{key:"append",class:"v-chip__append"},[n.append?a(Q,{key:"append-defaults",disabled:!T,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},n.append):a(Z,null,[e.appendIcon&&a(B,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(ie,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),Y&&a("button",de({key:"close",class:"v-chip__close",type:"button"},w.value),[n.close?a(Q,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},n.close):a(B,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ne("ripple"),I.value&&e.ripple,null]])}}}),oa={class:"message-container mb-3",align:"end"},ia={key:0,class:"mx-3 rounded msg-border-user"},ca={key:1,class:"d-flex mx-2"},da={class:"d-flex flex-column align-center"},va={class:"mx-3 rounded msg-border-service"},fa={__name:"MessageContainer",props:{messages:{type:Array,required:!0},username:{type:String,required:!0}},setup(e){const u=L(),t=e;q(t.messages,()=>{l()}),q(t.username,n=>{console.log("WATCH: ",n)});const l=()=>{Le(()=>{u.value.scrollTo({top:u.value.offsetHeight})})};return(n,c)=>(O(),j("div",oa,[D("div",{class:"message-block my-3",ref_key:"messageContainer",ref:u},[(O(!0),j(Z,null,It(e.messages,r=>(O(),j("div",{class:xt(["d-flex flex-row align-center my-2",r.username===e.username?"justify-end":null]),key:r.key},[r.username===e.username?(O(),j("span",ia,[a(Be,null,{default:N(()=>[le(ae(r.message),1)]),_:2},1024)])):ze("",!0),r.username!==e.username?(O(),j("div",ca,[D("div",da,[a(ie,{class:"rounded-circle avatar-border",size:"36"},{default:N(()=>[a(B,{class:"face-agent-icon"},{default:N(()=>[le("mdi-emoticon-cool-outline")]),_:1})]),_:1}),D("span",null,ae(r.username),1)]),D("span",va,[a(Be,{color:"secondary"},{default:N(()=>[le(ae(r.message),1)]),_:2},1024)])])):ze("",!0)],2))),128))],512)]))}},ma=ce(fa,[["__scopeId","data-v-c4ef4903"]]),Je=ue.reduce((e,u)=>(e[u]={type:[Boolean,String,Number],default:!1},e),{}),Qe=ue.reduce((e,u)=>{const t="offset"+me(u);return e[t]={type:[String,Number],default:null},e},{}),Ze=ue.reduce((e,u)=>{const t="order"+me(u);return e[t]={type:[String,Number],default:null},e},{}),Ee={col:Object.keys(Je),offset:Object.keys(Qe),order:Object.keys(Ze)};function ga(e,u,t){let l=e;if(!(t==null||t===!1)){if(u){const n=u.replace(e,"");l+=`-${n}`}return e==="col"&&(l="v-"+l),e==="col"&&(t===""||t===!0)||(l+=`-${t}`),l.toLowerCase()}}const ya=["auto","start","end","center","baseline","stretch"],ha=F({cols:{type:[Boolean,String,Number],default:!1},...Je,offset:{type:[String,Number],default:null},...Qe,order:{type:[String,Number],default:null},...Ze,alignSelf:{type:String,default:null,validator:e=>ya.includes(e)},...G(),...K()},"VCol"),Sa=U()({name:"VCol",props:ha(),setup(e,u){let{slots:t}=u;const l=C(()=>{const n=[];let c;for(c in Ee)Ee[c].forEach(i=>{const s=e[i],o=ga(c,i,s);o&&n.push(o)});const r=n.some(i=>i.startsWith("v-col-"));return n.push({"v-col":!r||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),n});return()=>{var n;return $e(e.tag,{class:[l.value,e.class],style:e.style},(n=t.default)==null?void 0:n.call(t))}}}),Se=["start","end","center"],et=["space-between","space-around","space-evenly"];function be(e,u){return ue.reduce((t,l)=>{const n=e+me(l);return t[n]=u(),t},{})}const ba=[...Se,"baseline","stretch"],tt=e=>ba.includes(e),at=be("align",()=>({type:String,default:null,validator:tt})),ka=[...Se,...et],lt=e=>ka.includes(e),nt=be("justify",()=>({type:String,default:null,validator:lt})),_a=[...Se,...et,"stretch"],st=e=>_a.includes(e),ut=be("alignContent",()=>({type:String,default:null,validator:st})),Oe={align:Object.keys(at),justify:Object.keys(nt),alignContent:Object.keys(ut)},Ca={align:"align",justify:"justify",alignContent:"align-content"};function Va(e,u,t){let l=Ca[e];if(t!=null){if(u){const n=u.replace(e,"");l+=`-${n}`}return l+=`-${t}`,l.toLowerCase()}}const Ia=F({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:tt},...at,justify:{type:String,default:null,validator:lt},...nt,alignContent:{type:String,default:null,validator:st},...ut,...G(),...K()},"VRow"),xa=U()({name:"VRow",props:Ia(),setup(e,u){let{slots:t}=u;const l=C(()=>{const n=[];let c;for(c in Oe)Oe[c].forEach(r=>{const i=e[r],s=Va(c,r,i);s&&n.push(s)});return n.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),n});return()=>{var n;return $e(e.tag,{class:["v-row",l.value,e.class],style:e.style},(n=t.default)==null?void 0:n.call(t))}}}),pa={__name:"MessageInput",props:{username:{type:String,required:!0}},setup(e){const u=L(),t=L(""),l=L(!1);let n=L(!0);const c=e,r=()=>{try{n.value=!1,qt(c.username,t.value),setTimeout(()=>{n.value=!0},1e3),t.value=""}catch(s){console.log("error: ",s)}i()},i=()=>{var s;(s=u.value)==null||s.focus()};return(s,o)=>(O(),pt(xa,{class:"px-2 pb-2 send-message-block","no-gutters":"",align:"center"},{default:N(()=>[a(Sa,{class:"d-flex align-center"},{default:N(()=>[a(Ht,{ref_key:"messageInput",ref:u,modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d),outlined:"","hide-details":"",dense:"",placeholder:"請輸入訊息",variant:"outlined",onKeyup:o[1]||(o[1]=zt(d=>r(),["enter"]))},null,8,["modelValue"]),a(Dt,{class:"ml-2 mr-0 elevation-0",fab:"",dark:"","x-small":"",color:t.value===""?"gray":"primary",loading:l.value,disabled:t.value===""||!je(n),onClick:o[2]||(o[2]=d=>r())},{default:N(()=>[a(B,null,{default:N(()=>[le("mdi-send")]),_:1})]),_:1},8,["color","loading","disabled"])]),_:1})]),_:1}))}},za=ce(pa,[["__scopeId","data-v-d32f8107"]]),Ta={__name:"Chat",setup(e){let u=0,t=L([]);const l=L(""),n=wt();return Pt(()=>{l.value=n.query.username,u=Wt().unix(),Kt(Xt,c=>{if(c.exists()){let r=1;c.forEach(i=>{c.size===r&&i.key!==null&&Number(i.key)>=u&&t.value.push(i.val()),r++})}else t.value=[]},c=>{console.log(c)})}),(c,r)=>(O(),j(Z,null,[a(ea,{username:l.value},null,8,["username"]),a(ma,{messages:je(t),username:l.value},null,8,["messages","username"]),a(za,{username:l.value},null,8,["username"])],64))}};export{Ta as default};
